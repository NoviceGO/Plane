System.register("chunks:///_virtual/AudioMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(o){var i,u,t,e,n,c,r;return{setters:[function(o){i=o.createClass},function(o){u=o.cclegacy,t=o.AudioClip,e=o.resources,n=o.Node,c=o.director,r=o.AudioSource}],execute:function(){u._RF.push({},"9a46cYt0w9GPZU2qbhCtckT","AudioMgr",void 0),o("AudioMgr",function(){function o(){this._audioSource=void 0;var o=new n;o.name="__audioMgr__",c.getScene().addChild(o),c.addPersistRootNode(o),this._audioSource=o.addComponent(r)}var u=o.prototype;return u.playOneShot=function(o,i){var u=this;void 0===i&&(i=1),o instanceof t?this._audioSource.playOneShot(o,i):e.load(o,(function(o,t){o?console.log(o):u._audioSource.playOneShot(t,i)}))},u.play=function(o,i,u){var n=this;void 0===i&&(i=1),o instanceof t?(this._audioSource.stop(),this._audioSource.loop=u,this._audioSource.clip=o,this._audioSource.play(),this.audioSource.volume=i):e.load(o,(function(o,u){o?console.log(o):(n._audioSource.stop(),n._audioSource.clip=u,n._audioSource.play(),n.audioSource.volume=i)}))},u.stop=function(){this._audioSource.stop()},u.pause=function(){this._audioSource.pause()},u.resume=function(){this._audioSource.play()},i(o,[{key:"audioSource",get:function(){return this._audioSource}}],[{key:"inst",get:function(){return null==this._inst&&(this._inst=new o),this._inst}}]),o}())._inst=void 0,u._RF.pop()}}}));

System.register("chunks:///_virtual/Bg.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,r,o,s,a,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,a=t.Node,u=t.Component}],execute:function(){var l,c,p,g,b,y,f,h;o._RF.push({},"e69d5DumpBPNIj7LjxERp5u","Bg",void 0);var d=s.ccclass,P=s.property;t("Bg",(l=d("Bg"),c=P(a),p=P(a),l((y=e((b=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,n(e,"bg1",y,r(e)),n(e,"bg2",f,r(e)),n(e,"speed",h,r(e)),e}i(e,t);var o=e.prototype;return o.start=function(){},o.update=function(t){var e=this.bg1.getPosition(),i=this.bg2.getPosition();e.y-=this.speed*t,i.y-=this.speed*t,this.bg1.setPosition(e),this.bg2.setPosition(i),e.y<=-852&&this.bg1.setPosition(e.x,i.y+852,e.z),i.y<=-852&&this.bg2.setPosition(i.x,e.y+852,i.z)},e}(u)).prototype,"bg1",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=e(b.prototype,"bg2",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=e(b.prototype,"speed",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),g=b))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/BombUI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,o,n,i,c,a,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,c=e._decorator,a=e.Label,u=e.Component}],execute:function(){var l,s,b,p,m;i._RF.push({},"a1dffbcgEdDc6Go7kIyU8dS","BombUI",void 0);var f=c.ccclass,y=c.property;e("BombUI",(l=f("BombUI"),s=y(a),l((m=r((p=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),c=0;c<t;c++)i[c]=arguments[c];return r=e.call.apply(e,[this].concat(i))||this,o(r,"bombNumber",m,n(r)),r}return t(r,e),r.prototype.onBombChange=function(e){this.bombNumber.string=e.toString()},r}(u)).prototype,"bombNumber",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=p))||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/Bullet.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,i,o,s,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,a=e.Component}],execute:function(){var l,c,u;o._RF.push({},"1d59aAyydxGlIs7FonBHaUp","Bullet",void 0);var p=s.ccclass,d=s.property;e("Bullet",p("Bullet")((u=t((c=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,n(t,"speed",u,i(t)),t}r(t,e);var o=t.prototype;return o.start=function(){},o.update=function(e){var t=this.node.getPosition();this.node.setPosition(t.x,t.y+this.speed*e,t.z),t.y>440&&this.node.destroy()},t}(a)).prototype,"speed",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 500}}),l=c))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/Enemy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./EnemyManager.ts","./AudioMgr.ts"],(function(e){var i,t,n,o,r,a,l,s,c,u,h,p,d,f,m;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Animation,s=e.AudioClip,c=e.Collider2D,u=e.Contact2DType,h=e.Sprite,p=e.Component},function(e){d=e.GameManager},function(e){f=e.EnemyManager},function(e){m=e.AudioMgr}],execute:function(){var y,b,g,C,v,w,D,z,A,E,T,B;r._RF.push({},"6fc4en8j+FN6a6bCWsTjuFF","Enemy",void 0);var M=a.ccclass,N=a.property;e("Enemy",(y=M("Enemy"),b=N(l),g=N(s),y((w=i((v=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return i=e.call.apply(e,[this].concat(r))||this,n(i,"speed",w,o(i)),n(i,"animation",D,o(i)),n(i,"hp",z,o(i)),n(i,"animationHit",A,o(i)),n(i,"animationDown",E,o(i)),n(i,"score",T,o(i)),i.haveDead=!1,i.collider=null,n(i,"enemyAudio",B,o(i)),i}t(i,e);var r=i.prototype;return r.start=function(){this.collider=this.getComponent(c),this.collider&&this.collider.on(u.BEGIN_CONTACT,this.onBeginContact,this)},r.onBeginContact=function(e,i,t){this.hp-=1,i.getComponent("Bullet")&&(i.enabled=!1,i.getComponent(h).enabled=!1),this.hp>0?this.animation.play(this.animationHit):this.dead()},r.update=function(e){if(this.hp>0){var i=this.node.getPosition();this.node.setPosition(i.x,i.y-this.speed*e,i.z)}this.node.position.y<-520&&this.node.destroy()},r.onDestroy=function(){this.collider&&this.collider.off(u.BEGIN_CONTACT,this.onBeginContact,this),f.getInstance().removeEnemy(this.node)},r.dead=function(){var e=this;this.haveDead||(this.animation.play(this.animationDown),this.collider&&(this.collider.enabled=!1),this.scheduleOnce((function(){e.node.destroy()}),1),m.inst.play(this.enemyAudio,.8),d.getInstance().addScoreTotal(this.score),this.haveDead=!0)},r.killNow=function(){this.hp<=0||this.dead()},i}(p)).prototype,"speed",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 300}}),D=i(v.prototype,"animation",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(v.prototype,"hp",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),A=i(v.prototype,"animationHit",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),E=i(v.prototype,"animationDown",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),T=i(v.prototype,"score",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),B=i(v.prototype,"enemyAudio",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=v))||C));r._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./Enemy.ts","./AudioMgr.ts"],(function(e){var n,t,r,i,a,o,u,l,s,c,m,y,h,f,p,b,d,w;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.createForOfIteratorHelperLoose},function(e){o=e.cclegacy,u=e._decorator,l=e.Prefab,s=e.AudioClip,c=e.Node,m=e.input,y=e.Input,h=e.math,f=e.instantiate,p=e.Component},function(e){b=e.GameManager},function(e){d=e.Enemy},function(e){w=e.AudioMgr}],execute:function(){var g,v,E,R,S,P,A,z,C,T,k,M,I,D,_,H,O,L,N,B,F,G;o._RF.push({},"6b302WG70JAA7lnv8SOh+q6","EnemyManager",void 0);var x=u.ccclass,U=u.property;e("EnemyManager",(g=x("EnemyManager"),v=U(l),E=U(l),R=U(l),S=U(l),P=U(l),A=U(s),z=U([c]),g(((G=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a))||this,r(n,"enemy0",k,i(n)),r(n,"enemy0SpawnRate",M,i(n)),r(n,"enemy1",I,i(n)),r(n,"enemy1SpawnRate",D,i(n)),r(n,"enemy2",_,i(n)),r(n,"enemy2SpawnRate",H,i(n)),r(n,"reward1",O,i(n)),r(n,"reward2",L,i(n)),r(n,"rewardSpawnRate",N,i(n)),r(n,"bombMusic",B,i(n)),n.doubleClickThreshold=.2,n.lastClickTime=0,r(n,"enemyArray",F,i(n)),n}t(n,e),n.getInstance=function(){return n.instance||(n.instance=new n),n.instance};var o=n.prototype;return o.onLoad=function(){n.instance=this,m.on(y.EventType.TOUCH_END,this.onTouchStart,this)},o.onTouchStart=function(e){var n=Date.now();(n-this.lastClickTime)/1e3<this.doubleClickThreshold&&this.onDoubleClick(e),this.lastClickTime=n},o.onDoubleClick=function(e){if(!1!==b.getInstance().isHaveBomb()){b.getInstance().addBomb(-1),w.inst.play(this.bombMusic,1);for(var n,t=a(this.enemyArray);!(n=t()).done;){n.value.getComponent(d).killNow()}}},o.removeEnemy=function(e){var n=this.enemyArray.indexOf(e);-1!==n&&this.enemyArray.splice(n,1)},o.start=function(){var e=this;this.schedule((function(){return e.getEnemyPrefab(e.enemy0)}),this.enemy0SpawnRate),this.schedule((function(){return e.getEnemyPrefab(e.enemy1)}),this.enemy1SpawnRate),this.schedule((function(){return e.getEnemyPrefab(e.enemy2)}),this.enemy2SpawnRate),this.schedule((function(){return e.getEnemyPrefab("reward")}),this.rewardSpawnRate)},o.update=function(e){},o.onDestroy=function(){var e=this;this.unschedule((function(){return e.getEnemyPrefab(e.enemy0)})),this.unschedule((function(){return e.getEnemyPrefab(e.enemy1)})),this.unschedule((function(){return e.getEnemyPrefab(e.enemy2)})),this.unschedule((function(){return e.getEnemyPrefab("reward")})),m.off(y.EventType.TOUCH_END,this.onTouchStart,this)},o.getEnemyPrefab=function(e){var n=null;if("reward"===e){var t,r;if(null==this.reward1&&null==this.reward2)return void console.log("没有奖励可用");n=h.random()<.5?null!=(t=this.reward1)?t:this.reward2:null!=(r=this.reward2)?r:this.reward1}else n=e;if(n){var i,a=f(n);switch(n){case this.enemy0:i=h.randomRangeInt(-215,215),a.setPosition(i,450,0),this.enemyArray.push(a);break;case this.enemy1:i=h.randomRangeInt(-205,203),a.setPosition(i,470,0),this.enemyArray.push(a);break;case this.enemy2:i=h.randomRangeInt(-158,156),a.setPosition(i,550,0),this.enemyArray.push(a);break;case this.reward1:case this.reward2:i=h.randomRangeInt(-207,207),a.setPosition(i,477,0)}this.node.addChild(a)}else console.log("没有该类型敌机或奖励或 prefab 为 null")},n}(p)).instance=null,k=n((T=G).prototype,"enemy0",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=n(T.prototype,"enemy0SpawnRate",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),I=n(T.prototype,"enemy1",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(T.prototype,"enemy1SpawnRate",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),_=n(T.prototype,"enemy2",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=n(T.prototype,"enemy2SpawnRate",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),O=n(T.prototype,"reward1",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(T.prototype,"reward2",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=n(T.prototype,"rewardSpawnRate",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),B=n(T.prototype,"bombMusic",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(T.prototype,"enemyArray",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=T))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BombUI.ts","./ScoreUI.ts","./Player.ts","./GameOverUI.ts","./AudioMgr.ts"],(function(e){var t,i,n,r,o,a,u,s,c,l,b,m,p,f,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,u=e.Node,s=e.AudioClip,c=e.director,l=e.Component},function(e){b=e.BombUI},function(e){m=e.ScoreUI},function(e){p=e.Player},function(e){f=e.GameOverUI},function(e){g=e.AudioMgr}],execute:function(){var h,y,v,I,M,d,U,w,S,z,O,B,N,P,G,R,A,C,H,L,_,D,F,T;o._RF.push({},"36f510Xo7JL2IYbFI6bY2yB","GameManager",void 0);var Y=a.ccclass,j=a.property;e("GameManager",(h=Y("GameManager"),y=j(b),v=j(m),I=j(p),M=j(u),d=j(u),U=j(f),w=j(s),S=j(s),z=j(s),h(((T=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"bombNumber",N,r(t)),n(t,"bombUI",P,r(t)),n(t,"scoreUI",G,r(t)),n(t,"score",R,r(t)),n(t,"player",A,r(t)),n(t,"pause",C,r(t)),n(t,"resume",H,r(t)),n(t,"gameOverUI",L,r(t)),n(t,"buttonMusic",_,r(t)),n(t,"gameMusic",D,r(t)),n(t,"gameOverMusic",F,r(t)),t}i(t,e),t.getInstance=function(){return t.instance||(t.instance=new t),t.instance};var o=t.prototype;return o.addBomb=function(e){void 0===e&&(e=1),this.bombNumber+=e,this.bombUI.onBombChange(this.bombNumber)},o.onLoad=function(){t.instance=this},o.start=function(){g.inst.play(this.gameMusic,.15,!0)},o.getBombNumber=function(){return this.bombNumber},o.addScoreTotal=function(e){this.score+=e,this.scoreUI.onScoreChange(this.score)},o.onPause=function(){c.pause(),g.inst.play(this.buttonMusic,1),g.inst.pause(),this.player.isPause=!0,this.pause.active=!1,this.resume.active=!0},o.onResume=function(){c.resume(),g.inst.resume(),g.inst.play(this.buttonMusic,1),this.player.isPause=!1,this.pause.active=!0,this.resume.active=!1},o.gameOver=function(){this.onPause(),g.inst.play(this.gameOverMusic,1);var e=localStorage.getItem("HighestScore"),t=0;null!=e&&(t=parseInt(e,10)),this.score>t&&localStorage.setItem("HighestScore",this.score.toString()),this.gameOverUI.showGameOverUI(t,this.score)},o.onRestart=function(){g.inst.play(this.buttonMusic,1),c.loadScene(c.getScene().name),this.onResume()},o.isHaveBomb=function(){return this.bombNumber>0},o.onQuit=function(){this.buttonMusic&&g.inst.play(this.buttonMusic,1);try{c.resume(),g.inst.resume()}catch(e){}c.loadScene("01-Start")},t}(l)).instance=void 0,N=t((B=T).prototype,"bombNumber",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=t(B.prototype,"bombUI",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(B.prototype,"scoreUI",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(B.prototype,"score",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=t(B.prototype,"player",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(B.prototype,"pause",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(B.prototype,"resume",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(B.prototype,"gameOverUI",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(B.prototype,"buttonMusic",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(B.prototype,"gameMusic",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(B.prototype,"gameOverMusic",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=B))||O));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameOverUI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,i,n,o,c,a,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,a=e.Label,u=e.Component}],execute:function(){var l,s,p,h,f,g,v;o._RF.push({},"82aa35kJR9B6KzNGZrc29Xq","GameOverUI",void 0);var y=c.ccclass,m=c.property;e("GameOverUI",(l=y("GameOverUI"),s=m(a),p=m(a),l((g=r((f=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),c=0;c<t;c++)o[c]=arguments[c];return r=e.call.apply(e,[this].concat(o))||this,i(r,"hightestScore",g,n(r)),i(r,"currentScore",v,n(r)),r}return t(r,e),r.prototype.showGameOverUI=function(e,r){this.node.active=!0,this.hightestScore.string=e.toString(),this.currentScore.string=r.toString()},r}(u)).prototype,"hightestScore",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=r(f.prototype,"currentScore",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=f))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/LifecountUI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,i,r,o,c,u,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,u=e.Label,a=e.Component}],execute:function(){var l,f,s,p,y;o._RF.push({},"f4b7cMOa3pGb4C5/yq7kTfI","LifecountUI",void 0);var h=c.ccclass,g=c.property;e("LifecountUI",(l=h("LifecountUI"),f=g(u),l((y=t((p=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o))||this,i(t,"lifeCount",y,r(t)),t}return n(t,e),t.prototype.onLifeChange=function(e){this.lifeCount.string=e.toString()},t}(a)).prototype,"lifeCount",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=p))||s));o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./AudioMgr.ts","./Bg.ts","./Bullet.ts","./Enemy.ts","./EnemyManager.ts","./GameManager.ts","./Player.ts","./Reward.ts","./StartUI.ts","./BombUI.ts","./GameOverUI.ts","./LifecountUI.ts","./ScoreUI.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/Player.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Reward.ts","./GameManager.ts","./LifecountUI.ts","./AudioMgr.ts"],(function(t){var i,e,o,n,r,l,a,u,s,h,c,b,f,p,d,m,T,y,g,w,P,C,O,v;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,r=t.createClass},function(t){l=t.cclegacy,a=t._decorator,u=t.Node,s=t.Prefab,h=t.Enum,c=t.Animation,b=t.AudioClip,f=t.input,p=t.Input,d=t.Collider2D,m=t.Contact2DType,T=t.Sprite,y=t.Vec3,g=t.instantiate,w=t.Component},function(t){P=t.Reward},function(t){C=t.GameManager},function(t){O=t.LifecountUI},function(t){v=t.AudioMgr}],execute:function(){var S,_,z,A,I,H,D,E,N,B,R,M,W,L,U,x,k,G,V,F,K,Y,j,q,X,Z,J,Q,$,tt,it,et,ot;l._RF.push({},"6bc6b9+nuZPKqO0Ox7YvK+z","Player",void 0);var nt=a.ccclass,rt=a.property,lt=function(t){return t[t.SHOOT_ONE=1]="SHOOT_ONE",t[t.SHOOT_TWO=2]="SHOOT_TWO",t[t.None=3]="None",t}(lt||{});t("Player",(S=nt("Player"),_=rt(u),z=rt(s),A=rt(s),I=rt(u),H=rt(u),D=rt(u),E=rt({type:h(lt)}),N=rt(c),B=rt(O),R=rt(b),M=rt(b),W=rt(b),S((x=i((U=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),l=0;l<e;l++)r[l]=arguments[l];return i=t.call.apply(t,[this].concat(r))||this,o(i,"shootRate",x,n(i)),o(i,"bulletParent",k,n(i)),o(i,"bullet1Prefab",G,n(i)),o(i,"bullet2Prefab",V,n(i)),o(i,"bullet1Position",F,n(i)),o(i,"bullet2_1Position",K,n(i)),o(i,"bullet2_2Position",Y,n(i)),o(i,"shootType",j,n(i)),o(i,"lifeCount",q,n(i)),o(i,"invincibleTime",X,n(i)),o(i,"twoShootDuration",Z,n(i)),i.twoShootTimer=0,i.isInvincible=!1,i.invincibleTimer=0,o(i,"animation",J,n(i)),o(i,"animationHit",Q,n(i)),o(i,"animationDown",$,n(i)),o(i,"lifeCountUI",tt,n(i)),o(i,"bulletAudio",it,n(i)),o(i,"getBombAudio",et,n(i)),o(i,"getTwoShootAudio",ot,n(i)),i.collider=null,i.shootTimer=0,i.lastReward=null,i._isPause=!1,i}e(i,t);var l=i.prototype;return l.onLoad=function(){f.on(p.EventType.TOUCH_MOVE,this.onTouchMove,this),this.collider=this.node.getChildByName("Body").getComponent(d),this.collider&&this.collider.on(m.BEGIN_CONTACT,this.onBeginContact,this),this.lifeCountUI.onLifeChange(this.lifeCount)},l.onBeginContact=function(t,i,e){var o=i.getComponent(P);o?this.onContactToReward(o):this.onContactToEnemy()},l.onChangeLife=function(t){this.lifeCount+=t,this.lifeCountUI.onLifeChange(this.lifeCount)},l.onContactToEnemy=function(){this.isInvincible||(this.isInvincible=!0,this.invincibleTimer=0,this.onChangeLife(-1),this.lifeCount>0?this.animation.play(this.animationHit):(this.shootType=lt.None,this.animation.play(this.animationDown),this.scheduleOnce((function(){C.getInstance().gameOver()}),.4),this.collider&&(this.collider.enabled=!1)))},l.onContactToReward=function(t){if(this.lastReward!==t){switch(this.lastReward=t,t.rewardType){case 0:v.inst.play(this.getTwoShootAudio,1),this.transitionToTwoShoot();break;case 1:v.inst.play(this.getBombAudio,1),C.getInstance().addBomb()}t.getComponent(d).enabled=!1,t.getComponent(T).enabled=!1}},l.transitionToOneShoot=function(){this.shootType=lt.SHOOT_ONE},l.transitionToTwoShoot=function(){this.shootType=lt.SHOOT_TWO,this.twoShootTimer=0},l.transitionToBomb=function(){},l.onDestroy=function(){f.off(p.EventType.TOUCH_MOVE,this.onTouchMove,this),this.collider&&this.collider.off(m.BEGIN_CONTACT,this.onBeginContact,this)},l.onTouchMove=function(t){if(!(this.lifeCount<=0||this.isPause)){var i=this.node.getPosition(),e=new y(i.x+t.getDeltaX(),i.y+t.getDeltaY(),i.z);e.x<-240&&(e.x=-240),e.x>240&&(e.x=240),e.y<-380&&(e.y=-380),e.y>380&&(e.y=380),this.node.setPosition(e)}},l.update=function(t){switch(this.shootType){case lt.SHOOT_ONE:this.oneShoot(t);break;case lt.SHOOT_TWO:this.twoShoot(t)}this.isInvincible&&(this.collider.enabled=!1,this.invincibleTimer+=t,this.invincibleTimer>=this.invincibleTime&&(this.isInvincible=!1,this.collider.enabled=!0))},l.oneShoot=function(t){if(this.shootTimer+=t,this.shootTimer>=this.shootRate){this.shootTimer=0;var i=g(this.bullet1Prefab);this.bulletParent.addChild(i),i.setWorldPosition(this.bullet1Position.getWorldPosition()),v.inst.play(this.bulletAudio,.7)}},l.twoShoot=function(t){if(this.twoShootTimer+=t,this.twoShootTimer>=this.twoShootDuration)this.transitionToOneShoot();else if(this.shootTimer+=t,this.shootTimer>=this.shootRate){this.shootTimer=0;var i=g(this.bullet2Prefab),e=g(this.bullet2Prefab);this.bulletParent.addChild(i),this.bulletParent.addChild(e),i.setWorldPosition(this.bullet2_1Position.getWorldPosition()),e.setWorldPosition(this.bullet2_2Position.getWorldPosition()),v.inst.play(this.bulletAudio,.7)}},r(i,[{key:"isPause",get:function(){return this._isPause},set:function(t){this._isPause=t}}]),i}(w)).prototype,"shootRate",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),k=i(U.prototype,"bulletParent",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=i(U.prototype,"bullet1Prefab",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=i(U.prototype,"bullet2Prefab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=i(U.prototype,"bullet1Position",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=i(U.prototype,"bullet2_1Position",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=i(U.prototype,"bullet2_2Position",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=i(U.prototype,"shootType",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return lt.SHOOT_ONE}}),q=i(U.prototype,"lifeCount",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),X=i(U.prototype,"invincibleTime",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),Z=i(U.prototype,"twoShootDuration",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),J=i(U.prototype,"animation",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=i(U.prototype,"animationHit",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),$=i(U.prototype,"animationDown",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),tt=i(U.prototype,"lifeCountUI",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=i(U.prototype,"bulletAudio",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=i(U.prototype,"getBombAudio",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=i(U.prototype,"getTwoShootAudio",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=U))||L));l._RF.pop()}}}));

System.register("chunks:///_virtual/Reward.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,o,n,i,a,s,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,s=e.Enum,c=e.Component}],execute:function(){var p,u,l,d,y,f;i._RF.push({},"050ed2S6r1F2oLPcyNkeaIx","Reward",void 0);var h=a.ccclass,w=a.property,b=e("RewardType",function(e){return e[e.TwoShoot=0]="TwoShoot",e[e.Bomb=1]="Bomb",e}({}));e("Reward",(p=h("Reward"),u=w({type:s(b)}),p((y=t((d=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,o(t,"speed",y,n(t)),o(t,"rewardType",f,n(t)),t}r(t,e);var i=t.prototype;return i.start=function(){},i.update=function(e){var t=this.node.getPosition();this.node.setPosition(t.x,t.y-this.speed*e,t.z),this.node.position.y<-520&&this.node.destroy()},t}(c)).prototype,"speed",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 120}}),f=t(d.prototype,"rewardType",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.TwoShoot}}),l=d))||l));i._RF.pop()}}}));

System.register("chunks:///_virtual/ScoreUI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,o,n,i,c,a,l;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,c=e._decorator,a=e.Label,l=e.Component}],execute:function(){var s,u,p,f,h;i._RF.push({},"793045VmaBPY5/zI8TN6v6H","ScoreUI",void 0);var y=c.ccclass,g=c.property;e("ScoreUI",(s=y("ScoreUI"),u=g(a),s((h=r((f=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),c=0;c<t;c++)i[c]=arguments[c];return r=e.call.apply(e,[this].concat(i))||this,o(r,"scoreTotal",h,n(r)),r}return t(r,e),r.prototype.onScoreChange=function(e){this.scoreTotal.string=e.toString()},r}(l)).prototype,"scoreTotal",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/StartUI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o,r,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,r=t.director,c=t.Component}],execute:function(){var u;n._RF.push({},"9a135p8TCZMf7x2JA+RPMae","StartUI",void 0);var a=o.ccclass;o.property,t("Status",a("Status")(u=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var o=n.prototype;return o.start=function(){},o.update=function(t){},o.onStartButtonClicked=function(){console.log("点击开始按钮！！！"),r.loadScene("002-GameScene")},n}(c))||u);n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});